function getApolloLocaleSlugMap(){return{"":0,us:1,uk:2,au:3,nz:4,"in":5,asean:6,world:-1}}function getApolloLocaleIdMap(){return{"0":"","1":"us","2":"uk","3":"au","4":"nz","5":"in","6":"asean","-1":"world"}}function getApolloLocaleBrandMap(){var map={};for(i=0;i<32;i++){map[Math.pow(2,i)]=[0]}map[256].push(6);return map}function getCountryCodeLocaleMap(){var map={US:0,UM:0,PR:0,GU:0,AS:0,VI:0,BN:6,KH:6,ID:6,LA:6,MM:6,MY:6,PG:6,PH:6,SG:6,TH:6,VN:6,TL:6};return map}function getCookie(cookieName){return $.cookie(cookieName)}function setCookie(cookieName,cookieValue){$.cookie(cookieName,cookieValue,{expires:365,path:"/"})}function getFastlyCountryCode(){return getCookie("fastlyCountryCode")}function getLocaleFromCountryCode(countryCode){var map=getCountryCodeLocaleMap();return countryCode&&countryCode in map?map[countryCode]:0}function getSelectedLocale(){return getCookie("selectedLocale")}function setSelectedLocale(localeId){setCookie("selectedLocale",localeId)}function browserLocaleError(){console.log("error getting geolocation, ignore")}function setBrowserLocale(position){var latitude=position.coords.latitude;var longitude=position.coords.longitude;var apiKey="foo";fetch("https://maps.googleapis.com/maps/api/geocode/json?latlng="+latitude+","+longitude+"&key="+apiKey).then(function(response){var json=response.json();if("results" in json&&"address_components" in json.results){for(var i in json.results.address_components){if("types" in json.results.address_components[i]){var arrAddressTypes=json.results.address_components[i]["types"];if(arrAddressTypes.includes.country){var countryCode=json.results.address_components[i]["short_name"];var map=getCountryCodeLocaleMap();if(countryCode in map){setCookie("browserLocale",map[countryCode]);break}}}}}})}function getRedirectLocale(){return getCookie("redirectLocale")}function getBrowserLocale(){var locale=getCookie("browserLocale");if(locale==null){if("geolocation" in navigator){navigator.geolocation.getCurrentPosition(setBrowserLocale,browserLocaleError)}}return locale}function getLocale(){var map=getApolloLocaleSlugMap();for(var slug in map){if(slug&&(location.pathname=="/"+slug||location.pathname.indexOf("/"+slug+"/")==0)){return map[slug]}}var selectedLocale=getSelectedLocale();if(selectedLocale!=null){return selectedLocale}var fastlyCountryCode=getFastlyCountryCode();if(fastlyCountryCode!=null){return getLocaleFromCountryCode(fastlyCountryCode)}return 0};